"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1487],{7009:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>h,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var t=n(4848),i=n(8453);const r={sidebar_position:4},o="Profile: SAS 9.4 (remote - SSH)",a={id:"Configurations/Profiles/sas9ssh",title:"Profile: SAS 9.4 (remote - SSH)",description:"For a secure connection to SAS 9.4 remote server, a public / private ssh key pair is required. The socket defined in the environment variable SSHAUTHSOCK is used to communicate with ssh-agent to authenticate the ssh session. The private key must be registered with the ssh-agent. The steps for configuring ssh follow.",source:"@site/docs/Configurations/Profiles/sas9ssh.md",sourceDirName:"Configurations/Profiles",slug:"/Configurations/Profiles/sas9ssh",permalink:"/vscode-sas-extension/Configurations/Profiles/sas9ssh",draft:!1,unlisted:!1,editUrl:"https://github.com/sassoftware/vscode-sas-extension/tree/main/website/docs/Configurations/Profiles/sas9ssh.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"defaultSidebar",previous:{title:"Profile: SAS 9.4 (remote - IOM)",permalink:"/vscode-sas-extension/Configurations/Profiles/sas9iom"},next:{title:"Additional settings in a profile",permalink:"/vscode-sas-extension/Configurations/Profiles/additional"}},h={},d=[{value:"Profile Anatomy",id:"profile-anatomy",level:2},{value:"Add New SAS 9.4 (remote - SSH) Profile",id:"add-new-sas-94-remote---ssh-profile",level:2},{value:"Required setup for connection to SAS 9.4 (remote - SSH)",id:"required-setup-for-connection-to-sas-94-remote---ssh",level:2},{value:"Windows",id:"windows",level:3},{value:"Mac",id:"mac",level:3}];function l(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"profile-sas-94-remote---ssh",children:"Profile: SAS 9.4 (remote - SSH)"}),"\n",(0,t.jsxs)(s.p,{children:["For a secure connection to SAS 9.4 remote server, a public / private ssh key pair is required. The socket defined in the environment variable ",(0,t.jsx)(s.code,{children:"SSH_AUTH_SOCK"})," is used to communicate with ssh-agent to authenticate the ssh session. The private key must be registered with the ssh-agent. The steps for configuring ssh follow."]}),"\n",(0,t.jsx)(s.h2,{id:"profile-anatomy",children:"Profile Anatomy"}),"\n",(0,t.jsx)(s.p,{children:"The parameters listed below make up the profile settings for configuring a connection to a remote SAS 9.4 instance."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Additional Notes"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Name"})}),(0,t.jsx)(s.td,{children:"Name of the profile"}),(0,t.jsx)(s.td,{children:"This will display on the status bar"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Host"})}),(0,t.jsx)(s.td,{children:"SSH Server Host"}),(0,t.jsx)(s.td,{children:"This will appear when hovering over the status bar"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Username"})}),(0,t.jsx)(s.td,{children:"SSH Server Username"}),(0,t.jsx)(s.td,{children:"A username to use when establishing the SSH connection to the server"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Port"})}),(0,t.jsx)(s.td,{children:"SSH Server Port"}),(0,t.jsx)(s.td,{children:"The ssh port of the SSH server. Default value is 22"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"SAS Path"})}),(0,t.jsx)(s.td,{children:"Path to SAS Executable on the server"}),(0,t.jsx)(s.td,{children:"Must be a fully qualified path on the SSH server to a SAS executable"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"add-new-sas-94-remote---ssh-profile",children:"Add New SAS 9.4 (remote - SSH) Profile"}),"\n",(0,t.jsxs)(s.p,{children:["Open the command palette (",(0,t.jsx)(s.code,{children:"F1"}),", or ",(0,t.jsx)(s.code,{children:"Ctrl+Shift+P"})," on Windows or Linux, or ",(0,t.jsx)(s.code,{children:"Shift+CMD+P"})," on OSX). After executing the ",(0,t.jsx)(s.code,{children:"SAS.addProfile"})," command, select the SAS 9.4 (remote - SSH) connection type and complete the prompts (using values from the preceeding table) to create a new profile."]}),"\n",(0,t.jsx)(s.h2,{id:"required-setup-for-connection-to-sas-94-remote---ssh",children:"Required setup for connection to SAS 9.4 (remote - SSH)"}),"\n",(0,t.jsx)(s.p,{children:"In order to configure the connection between VS Code and SAS 9, you must configure OpenSSH. Follow the steps below to complete the setup."}),"\n",(0,t.jsx)(s.h3,{id:"windows",children:"Windows"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Enable openssh client optional feature; ",(0,t.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse?tabs=gui",children:"instructions found here"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://phoenixnap.com/kb/windows-set-environment-variable",children:"Create an environment variable"})," SSH_AUTH_SOCK with value //./pipe/openssh-ssh-agent (windows uses a named pipe for the auth sock).\n",(0,t.jsx)(s.strong,{children:"Note"}),": An attempt to create the varible using Powershell command line did not register; suggest using these GUI instructions."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Ensure ssh-agent service is running and set startup type to automatic; commands found in ",(0,t.jsx)(s.a,{href:"https://dev.to/aka_anoop/how-to-enable-openssh-agent-to-access-your-github-repositories-on-windows-powershell-1ab8",children:"this link"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://medium.com/risan/upgrade-your-ssh-key-to-ed25519-c6e8d60d3c54",children:"Generate ed25519 keys"})," with the following command (email address is not binding; use any):"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sh",children:'ssh-keygen -o -a 100 -t ed25519 -f ~/.ssh/id_ed25519 -C "youremail@company.com"\n'})}),"\n",(0,t.jsxs)(s.ol,{start:"5",children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"You\u2019ll be asked a series of questions. First, if you didn not provide a path, a default one is provided. Also, if you wish to add a passphrase enter it. Pressing the \u2018Enter\u2019 key for each question accepts the default key name and does not password protect your key."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Enter a file in which to save the key (/c/Users/you/.ssh/id_ed25519):[Press enter]"}),"\n",(0,t.jsx)(s.li,{children:"Enter passphrase (empty for no passphrase): [Type a passphrase]"}),"\n",(0,t.jsx)(s.li,{children:"Enter same passphrase again: [Type passphrase again]"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Define an entry in ~/.ssh/config of the form:"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"Host host.machine.name\n    AddKeysToAgent yes\n    IdentityFile /path/to/private/key/with/passphrase\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Note: if ~/.ssh/config does not exist, run the following Powershell command to create it: ",(0,t.jsx)(s.code,{children:"Out-File -FilePath config"})]}),"\n",(0,t.jsxs)(s.ol,{start:"7",children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Add the private key to ssh-agent: ssh-add /path/to/private/key/with/passphrase"}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["In VS Code, define a connection profile (see detailed instructions below in the ",(0,t.jsx)(s.a,{href:"#add-new-sas-94-remote---ssh-profile",children:"Add New SAS 9.4 (remote - SSH) Profile"})," section). The connection for the remote server is stored in the settings.json file."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'"ssh_test": {\n    "connectionType": "ssh",\n    "host": "host.machine.name",\n    "saspath": "/path/to/sas/executable",\n    "username": "username",\n    "port": 22\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"Note: the default path to the SAS executable (saspath) is /opt/sasinside/SASHome/SASFoundation/9.4/bin/sas_u8. Check with your SAS administrator for the exact path."}),"\n",(0,t.jsxs)(s.ol,{start:"9",children:["\n",(0,t.jsx)(s.li,{children:"Add the public part of the keypair to the SAS server. Add the contents of the key file to the ~/.ssh/authorized_keys file."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"mac",children:"Mac"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Start ssh-agent in the background:"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sh",children:'eval "$(ssh-agent -s)"\n'})}),"\n",(0,t.jsxs)(s.ol,{start:"2",children:["\n",(0,t.jsx)(s.li,{children:"Ensure that SSH_AUTH_SOCK has a value"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sh",children:"echo $SSH_AUTH_SOCK\n"})}),"\n",(0,t.jsxs)(s.ol,{start:"3",children:["\n",(0,t.jsx)(s.li,{children:"Define an entry in $HOME/.ssh/config of the form:"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"Host host.machine.name\n  AddKeysToAgent yes\n  UseKeychain yes\n  IdentityFile /path/to/private/key/with/passphrase\n"})}),"\n",(0,t.jsxs)(s.ol,{start:"4",children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Add the private key to ssh-agent: ssh-add /path/to/private/key/with/passphrase"}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Define a connection profile in settings.json for a remote server (see detailed instructions below in the ",(0,t.jsx)(s.a,{href:"#add-new-sas-94-remote---ssh-profile",children:"Add New SAS 9.4 (remote - SSH) Profile"})," section):"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'"ssh_test": {\n    "connectionType": "ssh",\n    "host": "host.machine.name",\n    "saspath": "/path/to/sas/executable",\n    "username": "username",\n    "port": 22\n}\n'})}),"\n",(0,t.jsxs)(s.ol,{start:"6",children:["\n",(0,t.jsx)(s.li,{children:"Add the public part of the keypair to the SAS server. Add the contents of the key file to the ~/.ssh/authorized_keys file."}),"\n"]})]})}function c(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var t=n(6540);const i={},r=t.createContext(i);function o(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);