{"Procedure":{"Name":"KCLUS","ProductGroup":"CAS","ProcedureHelp":{"#cdata":"Syntax: PROC KCLUS DATA=CAS-libref.data-table < options > ;\n    CODE < options > ;\n    DISPLAY < table-list > < /options > ;\n    DISPLAYOUT table-spec-list < /options > ;\n    FREQ variable ;\n    INPUT variables < LEVEL= NOMINAL | INTERVAL> ;\n    SCORE OUT=CAS-libref.data-table < options > ;\n\nThe KCLUS procedure performs clustering (a common step in data exploration) in SAS Viya. You can use\nthe KCLUS procedure to read and write data in distributed form, and to perform clustering and scoring in\nparallel by making full use of multicore computers or distributed computing environments.\n\nThe KCLUS procedure performs a cluster analysis on the basis of distances that are computed from one or\nmore quantitative variables. The observations are divided into clusters such that every observation belongs to\none and only one cluster.\n\nThe KCLUS procedure uses the k-means algorithm for clustering interval input variables and uses the\nk-modes algorithm for clustering nominal input variables. The KCLUS procedure uses only interval variables\nor nominal variables to perform clustering. It does not perform clustering for a mix of interval and nominal\ninput variables."},"ProcedureOptions":{"ProcedureOption":[{"ProcedureOptionName":"DATA=","ProcedureOptionHelp":{"#cdata":"Syntax: DATA=CAS-libref.data-table\n      \nNames the input data table for PROC KCLUS to use. CAS-libref.data-table is a two-level name, where\n\n  CAS-libref refers to a collection of information that is defined in the LIBNAME statement and\n    includes the caslib, which includes a path to the data, and a session identifier, which\n    defaults to the active session but which can be explicitly defined in the LIBNAME\n    statement.\n    \n  data-table specifies the name of the input data table."},"ProcedureOptionType":"DV"},{"ProcedureOptionName":"DISTANCE=","ProcedureOptionHelp":{"#cdata":"Syntax: DISTANCE=EUCLIDEAN | MANHATTAN\n      \nSpecifies the distance measure for similarity that is used for interval input variables.\n\nBy default, DISTANCE=EUCLIDEAN."},"ProcedureOptionType":"V","ProcedureOptionValues":{"@Value1":"EUCLIDEAN","@Value2":"MANHATTAN"},"ProcedureOptionToolTips":{"@ToolTip1":"Calculates the Euclidean distance.","@ToolTip2":"Calculates the Manhattan distance."}},{"ProcedureOptionName":"DISTANCENOM=","ProcedureOptionHelp":{"#cdata":"Syntax: DISTANCENOM=BINARY | GLOBALFREQ | RELATIVEFREQ\n      \nSpecifies the distance measure for similarity that is used for nominal input variables."},"ProcedureOptionType":"V","ProcedureOptionValues":{"@Value1":"BINARY","@Value2":"GLOBALFREQ","@Value3":"RELATIVEFREQ"},"ProcedureOptionToolTips":{"@ToolTip1":"Calculates a simple matching distance.","@ToolTip2":"Calculates distance based on the frequency of levels of nominal input variables in the input data set.","@ToolTip3":"Calculates distance based on the frequency of levels of nominal input variables in each cluster."}},{"ProcedureOptionName":"INIT=","ProcedureOptionHelp":{"#cdata":"Syntax: INIT= FORGY| RAND \n      \nSpecifies the method for obtaining the initial estimate of cluster centers."},"ProcedureOptionType":"V","ProcedureOptionValues":{"@Value1":"FORGY","@Value2":"RAND"},"ProcedureOptionToolTips":{"@ToolTip1":"Selects the initial cluster centers randomly from observations.","@ToolTip2":"Assigns all observations randomly to one of the clusters."},"SubOptionsKeywords":"VALUE="},{"ProcedureOptionName":"IMPUTE=","ProcedureOptionHelp":{"#cdata":"Syntax: IMPUTE= MEAN | NONE \n      \nSpecifies the imputation method to be used when the INPUT statement specifies numeric interval variables. \nYou can choose from the following methods:  \n\n  MEAN imputes missing values of variables in observations by using the mean value for that variable.  \n  NONE does not do any imputation and excludes observations that have any missing values.  \n  \nIf IMPUTE=NONE and the number of observations that have nonmissing values is less than the value of the \nMAXCLUSTERS= option, then the number of clusters is set to the number of observations that have nonmissing values. \n    \nBy default, IMPUTE=NONE."},"ProcedureOptionType":"V","ProcedureOptionValues":{"@Value1":"MEAN","@Value2":"NONE"},"ProcedureOptionToolTips":{"@ToolTip1":"Imputes missing values of variables in observations by using the mean value for that variable.","@ToolTip2":"Does not do any imputation and excludes observations that have any missing values."}},{"ProcedureOptionName":"IMPUTENOM=","ProcedureOptionHelp":{"#cdata":"Syntax: IMPUTENOM= MODE | NONE \n      \nSpecifies the imputation method to be used when the INPUT statement specifies nominal variables.  \nYou can choose from the following methods:  \n\n  MODE imputes missing values of variables in observations by using the mode value for that variable.  \n  NONE does not do any imputation and excludes observations that have any missing values.  \n  \nIf IMPUTENOM=NONE and the number of observations that have nonmissing values is less than the value \nof the MAXCLUSTERS= option, then the number of clusters is set to the number of observations that \nhave nonmissing values. \n\nBy default, IMPUTENOM=NONE."},"ProcedureOptionType":"V","ProcedureOptionValues":{"@Value1":"MEAN","@Value2":"NONE"},"ProcedureOptionToolTips":{"@ToolTip1":"Imputes missing values of variables in observations by using the mean value for that variable. ","@ToolTip2":"Does not do any imputation and excludes observations that have any missing values."}},{"ProcedureOptionName":"MAXCLUSTERS=","ProcedureOptionHelp":{"#cdata":"Syntax: MAXCLUSTERS=number \n      \nSpecifies either the number of clusters to be used (if the NOC= option is not specified or NOC=NONE)\nor the maximum number of clusters to be searched (if NOC=ABC).\n\nBy default, MAXCLUSTERS=6."},"ProcedureOptionType":"V"},{"ProcedureOptionName":"MAXITER=","ProcedureOptionHelp":{"#cdata":"Syntax: MAXITER=number \n      \nSpecifies the maximum number of iterations for the algorithm to perform. In each iteration of the\nk-means or k-modes clustering method, each observation is assigned to the nearest cluster centroid,\nand the centroids are recomputed.\n\nBy default, MAXITER=10."},"ProcedureOptionType":"V"},{"ProcedureOptionName":"NOC=","ProcedureOptionHelp":{"#cdata":"Syntax: NOC= NONE | ABC < suboptions > \n      \nSpecifies the method to use for estimating the number of clusters."},"ProcedureOptionType":"V","ProcedureOptionValues":{"@Value1":"NONE","@Value2":"ABC"},"ProcedureOptionToolTips":{"@ToolTip1":"Does not estimate the number of clusters and uses the value specified in MAXCLUSTERS= option.","@ToolTip2":"Estimates number of clusters by using the aligned box criterion (ABC) method. You can specify  one or more of the following suboptions:    ALIGN=keyword specifies the method for aligning the reference data set based on the input data.        You can specify the following values:          NONE generates the reference data set from a uniform distribution over the range of values for            each subset of the input data set.          PCA generates the reference data set from a uniform distribution            over a box that is aligned with the principal components of each subset of the input data set.            By default, ALIGN=NONE.   B=number      specifies the number of reference data sets to be created for each cluster candidate.      By default, B=1.    CRITERION=keyword specifies the criterion to use to estimate the number of clusters that use the      statistics obtained in the ABC method. You can specify the following values:        ALL uses all the following options.        FIRSTMAXWITHSTD          uses the smallest k such that the gap value for that k is greater than the onestandard-error          adjusted gap value for k+1. ALL uses all the preceding options and selects the number of clusters          based on which one is chosen the most often. If each option selects a different number, then the          number selected by GLOBALPEAK is used. By default, CRITERION=GLOBALPEAK.       FIRSTPEAK          uses the first peak value among the peak values in gap statistics.        GLOBALPEAK          uses the peak value that has the maximum value among all the peak values in gap statistics.   MINCLUSTERS=number      specifies the minimum number of clusters for searching for the best number of clusters.      By default, MINCLUSTERS=2."},"SubOptionsKeywords":"ALL|B=|MINCLUSTERS=|CRITERION=|ALIGN="},{"ProcedureOptionName":"NTHREADS=","ProcedureOptionHelp":{"#cdata":"Syntax: NTHREADS=number-of-threads\n      \nSpecifies the number of threads that are used in the computation. The default value is the number of\nCPUs available in the machine."},"ProcedureOptionType":"V"},{"ProcedureOptionName":"OUTSTAT=","ProcedureOptionHelp":{"#cdata":"Syntax: OUTSTAT < (OUTITER) >=CAS-libref.data-table\n      \ncreates the output data table that contains the cluster centroids for each cluster. CAS-libref.data-table is\na two-level name, where CAS-libref refers to the caslib and session identifier, and data-table specifies\nthe name of the output data table.\n\nYou can also specify the following suboption:\n\n  OUTITER also outputs the cluster centroids to the OUTSTAT= data table for each iteration."},"ProcedureOptionType":"V","SubOptionsKeywords":"OUTITER"},{"ProcedureOptionName":"SEED=","ProcedureOptionHelp":{"#cdata":"Syntax: SEED=number \n      \nSpecifies an integer to be used to start the pseudorandom number generator for random partitioning of\ndata for training, testing, and validation. If you do not specify a seed or if you specify a value less than\nor equal to 0, the seed is generated from reading the time of day from the computer\u2019s clock."},"ProcedureOptionType":"V"},{"ProcedureOptionName":"STANDARDIZE=","ProcedureOptionHelp":{"#cdata":"Syntax: STANDARDIZE=NONE | RANGE | STD \n      \nSpecifies the method for standardizing the interval input variables. PROC KCLUS uses the location\nand scale measures specific to the method. You can specify the following values:  \n\n  NONE does not standardize and uses the actual values for the input variables. \n  RANGE standardizes the input variables by using the range method. PROC KCLUS uses the minimum \n    as the location and the range as the scale. \n  STD standardizes the input variables by using the traditional standardization method. \n  \nPROC KCLUS uses the mean as the location and the standard deviation as the scale. \nBy default, STANDARDIZE=NONE"},"ProcedureOptionType":"V","ProcedureOptionValues":{"@Value1":"NONE","@Value2":"RANGE","@Value3":"STD"},"ProcedureOptionToolTips":{"@ToolTip1":"Does not standardize and uses the actual values for the input variables.","@ToolTip2":"Standardizes the input variables by using the range method. PROC KCLUS uses the minimum  as the location and the range as the scale. ","@ToolTip3":"Standardizes the input variables by using the traditional standardization method."}},{"ProcedureOptionName":"STOPCRITERION=","ProcedureOptionHelp":{"#cdata":"Syntax: STOPCRITERION=keyword(VALUE=number) \n      \nSpecifies the method to use for convergence. If you do not specify the STOPCRITERION= option, \nthe algorithm stops after it reaches the maximum number of iterations (which is specified in \nMAXITER= option).  \n\n  CLUSTER_CHANGE(< VALUE=number >) option uses the percentile of observations that do not change \n    their cluster membership for that iteration. The optional VALUE= suboption enables you to specify \n    the percentile of observations. If VALUE=0, PROC KCLUS runs until the cluster centroids do not \n    change any more.  \n  WCSS_CHANGE(< VALUE=number >) option uses the within cluster distance change as a convergence criterion. \n    The optional VALUE= suboption enables you to specify the change in SSE for kmeans algporithm and sum \n    of within cluster distance for kmodes algorithm."},"ProcedureOptionType":"V","ProcedureOptionValues":{"@Value1":"CLUSTER_CHANGE","@Value2":"WCSS_CHANGE"},"ProcedureOptionToolTips":{"@ToolTip1":"Syntax: CLUSTER_CHANGE(< VALUE=number >)          Uses the percentile of observations that do not change their cluster membership for that iteration. The optional VALUE= suboption enables you to specify the percentile of observations. By default or if VALUE=0, PROC KCLUS runs until the cluster centroids no longer change.","@ToolTip2":"Syntax:  WCSS_CHANGE(< VALUE=number >)                                 Uses the within-cluster distance change as a convergence criterion. The optional VALUE= suboption enables you to specify the change in SSE for the k-means algorithm or the sum of within-cluster distance for the k-modes algorithm."},"SubOptionsKeywords":"VALUE="}]},"ProcedureStatements":{"ProcedureStatement":[{"StatementName":"CODE","StatementHelp":{"#cdata":"Syntax: CODE < options > ;\n      \nThe CODE statement generates the SAS DATA step code that mimics the computations that are done by the\nSCORE statement."},"StatementOptions":{"StatementOption":[{"StatementOptionName":"FILE=","StatementOptionHelp":{"#cdata":"Syntax: FILE=filename \n          \nSpecifies the filename of the file to write the SAS score code to."},"StatementOptionType":"V"},{"StatementOptionName":"LABELID=","StatementOptionHelp":{"#cdata":"Syntax: LABELID=number\n          \nSpecifies a number used to construct array names and statement labels in the generated code. You can\nspecify a value in the range 0 to 1024; by default, LABELID=0."},"StatementOptionType":"V"}]}},{"StatementName":"DISPLAY","StatementHelp":{"#cdata":"Syntax: DISPLAY < table-list > < / options > ;\n      \nThe DISPLAY statement enables you to specify a list of ODS tables to display or exclude. This statement\nis similar to the ODS SELECT, ODS EXCLUDE, and ODS TRACE statements. However, the DISPLAY\nstatement can improve performance when a large number of tables could be generated (such as in BY-group\nprocessing). The procedure processes the DISPLAY statement on a CAS server and thus sends only a subset\nof ODS tables to the SAS client. Because ODS statements are processed on a SAS client, all ODS tables\nare sent to the client and then the client creates a subset. If both DISPLAY and ODS statements are used\ntogether, the DISPLAY statement takes precedence over the ODS statements."},"StatementOptions":{"StatementOption":[{"StatementOptionName":"CASESENSITIVE","StatementOptionHelp":{"#cdata":"Performs a case-sensitive comparison of table names in the table-list to ODS table names when tables\nare subsetted for display. To preserve case, you must enclose table names in the table-list in quotation\nmarks."},"StatementOptionType":"S"},{"StatementOptionName":"EXCLUDE","StatementOptionHelp":{"#cdata":"Displays all ODS tables except those specified in the table-list."},"StatementOptionType":"S"},{"StatementOptionName":"EXCLUDEALL","StatementOptionHelp":{"#cdata":"Suppresses display of all tables. This option takes precedence over the other options."},"StatementOptionType":"S"},{"StatementOptionName":"TRACE","StatementOptionHelp":{"#cdata":"Displays the ODS table names, labels, and paths."},"StatementOptionType":"S"}]}},{"StatementName":"DISPLAYOUT","StatementHelp":{"#cdata":"Syntax: DISPLAYOUT table-spec-list < / options > ;\n      \nThe DISPLAYOUT statement enables you to create CAS output tables from your displayed output. This\nstatement is similar to the ODS OUTPUT statement.\nThe table-spec-list specifies a list of CAS output tables to create. Each entry in the list has either a key or a\nkey=value format:\n\n  key=value specifies key as the ODS table name, path, or partial pathname, and specifies value as the\n    CAS output table name.\n  key specifies key as the ODS table name and also as the CAS output table name.\n  \nTable names and partial pathnames are discussed under the DISPLAY statement. The DISPLAYOUT\nstatement does not support regular expressions."},"StatementOptions":{"StatementOption":[{"StatementOptionName":"NOREPLACE","StatementOptionHelp":{"#cdata":"Does not replace an existing CAS output table of the same name."},"StatementOptionType":"S"},{"StatementOptionName":"REPEATED","StatementOptionHelp":{"#cdata":"Replicates the CAS output tables on all nodes."},"StatementOptionType":"S"}]}},{"StatementName":"FREQ","StatementHelp":{"#cdata":"Syntax: FREQ variable ; \n      \nThe variable in the FREQ statement identifies a numeric variable in the data set that contains the frequency\nof occurrence of each observation. PROC KCLUS treats each observation as if it appears f times, where f is\nthe value of the FREQ variable for the observation. If f is not an integer, it is truncated to an integer. If f is\nless than 1 or missing, the observation is not used in the analysis. When the FREQ statement is not specified,\neach observation is assigned a frequency of 1."},"StatementOptions":null},{"StatementName":"INPUT","StatementHelp":{"#cdata":"Syntax: INPUT variables < LEVEL=BINARY | NOMINAL | ORDINAL | INTERVAL > ; \n      \nThe INPUT statement specifies the names of the variables to be used in clustering. It names one \nor more input variables that use common options. If you want to use different options for different \nvariables, you can specify multiple INPUT statements."},"StatementOptions":{"StatementOption":{"StatementOptionName":"LEVEL=","StatementOptionHelp":{"#cdata":"Syntax: LEVEL= NOMINAL | INTERVAL\n          \nSpecifies the level of measurement of the variables. For clustering, only interval, binary, and nominal\nvariables are accepted.\n\nBy default, LEVEL=INTERVAL for numeric variables, and LEVEL=NOMINAL for categorical\ncharacter variables."},"StatementOptionType":"V","StatementOptionValues":{"@Value1":"NOMINAL","@Value2":"INTERVAL"},"StatementOptionToolTips":{"@ToolTip1":"Specifies a nominal level of measurement.","@ToolTip2":"Specifies an interval level of measurement."}}}},{"StatementName":"SCORE|OUTPUT","StatementHelp":{"#cdata":"Syntax: SCORE OUT=CAS-libref.data-table < option > ;\nSyntax: OUTPUT OUT=CAS-libref.data-table < option > ;\n\nThe SCORE statement causes the KCLUS procedure to write the cluster membership information of\neach observation to the output data table. This information includes the variables that are specified in\nthe COPYVARS= option and two new variables, _CLUSTER_ID_ (the ID of the closest cluster) and\n_DISTANCE_ (the distance between the observation and the centroid of that cluster). If you specify\nSTANDARDIZE=RANGE or STANDARDIZE=STD in the PROC KCLUS statement, then PROC KCLUS\nadds another column called _STANDARDIZED_DISTANCE_, which contains the distance between the\nstandardized values of the observation and the standardized values of cluster centroid."},"StatementOptions":{"StatementOption":[{"StatementOptionName":"OUT=","StatementOptionHelp":{"#cdata":"Syntax: OUT=CAS-libref.data-table\n          \nnames the output data table for PROC KCLUS to use. CAS-libref.data-table is a two-level name, where\n\n  CAS-libref refers to a collection of information that is defined in the LIBNAME statement and\n    includes the caslib, which includes a path to where the data table is to be stored, and\n    a session identifier, which defaults to the active session but which can be explicitly\n    defined in the LIBNAME statement.\n\n  data-table specifies the name of the output data table."},"StatementOptionType":"V"},{"StatementOptionName":"COPYVAR=|COPYVARS=","StatementOptionHelp":{"#cdata":"Syntax: COPYVAR=variable | COPYVARS=(variables)\n          \nLists one or more variables from the input data table that are transferred to the scored output data table,\nprovided that the output data table produces one or more records per input observation. By default, the\nKCLUS procedure does not transfer any variables from the input data table to the output data table.\nThe COPYVARS= option accepts numeric and character variables."},"StatementOptionType":"V"}]}}]}}}